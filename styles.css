*{box-sizing:border-box;margin:0;padding:0}:root{--primary-color:#007bff;--secondary-color:#6c757d;--success-color:#28a745;--danger-color:#dc3545;--light-color:#f8f9fa;--dark-color:#343a40;--card-bg:#fff;--card-border:#ddd;--card-shadow:0 2px 5px rgba(0,0,0,0.1);--game-bg:#f0f8ff;--header-bg:rgba(255,255,255,0.9);--text-color:#333;--hint-color:#ffc107;--foundation-highlight:#e6f7ff;--tableau-highlight:#e6ffe6;--card-back:#6495ed;--card-red:#e53935;--card-black:#212121}body{font-family:'Segoe UI',Tahoma,Geneva,Verdana,sans-serif;background:var(--game-bg);color:var(--text-color);min-height:100vh;overflow:hidden;position:relative}.background-animation{position:fixed;top:0;left:0;width:100%;height:100%;z-index:-1;overflow:hidden}.floating-card{position:absolute;width:40px;height:56px;background:rgba(255,255,255,0.1);border-radius:5px;box-shadow:0 0 10px rgba(0,0,0,0.05);animation:float 15s infinite linear;opacity:0.3}.floating-card:nth-child(1){top:10%;left:10%;animation-duration:20s;animation-delay:0s}.floating-card:nth-child(2){top:20%;left:20%;animation-duration:25s;animation-delay:1s}.floating-card:nth-child(3){top:30%;left:30%;animation-duration:18s;animation-delay:2s}.floating-card:nth-child(4){top:40%;left:40%;animation-duration:22s;animation-delay:3s}.floating-card:nth-child(5){top:50%;left:50%;animation-duration:19s;animation-delay:4s}.floating-card:nth-child(6){top:60%;left:60%;animation-duration:24s;animation-delay:5s}.floating-card:nth-child(7){top:70%;left:70%;animation-duration:21s;animation-delay:6s}.floating-card:nth-child(8){top:80%;left:80%;animation-duration:23s;animation-delay:7s}.floating-card:nth-child(9){top:90%;left:90%;animation-duration:17s;animation-delay:8s}.floating-card:nth-child(10){top:15%;left:85%;animation-duration:26s;animation-delay:9s}.floating-card:nth-child(11){top:25%;left:75%;animation-duration:16s;animation-delay:10s}.floating-card:nth-child(12){top:35%;left:65%;animation-duration:27s;animation-delay:11s}.floating-card:nth-child(13){top:45%;left:55%;animation-duration:19s;animation-delay:12s}.floating-card:nth-child(14){top:55%;left:45%;animation-duration:23s;animation-delay:13s}.floating-card:nth-child(15){top:65%;left:35%;animation-duration:18s;animation-delay:14s}.floating-card:nth-child(16){top:75%;left:25%;animation-duration:22s;animation-delay:15s}@keyframes float{0%{transform:translateY(0) rotate(0deg)}25%{transform:translateY(-20px) rotate(5deg)}50%{transform:translateY(0) rotate(0deg)}75%{transform:translateY(20px) rotate(-5deg)}100%{transform:translateY(0) rotate(0deg)}}.game-container{max-width:1200px;margin:0 auto;padding:10px;height:100vh;display:flex;flex-direction:column}.game-header{background:var(--header-bg);padding:10px 15px;border-radius:10px;margin-bottom:10px;display:flex;justify-content:space-between;align-items:center;box-shadow:0 2px 10px rgba(0,0,0,0.1)}.game-info{display:flex;gap:20px}.timer,.moves,.score{display:flex;align-items:center;gap:5px}.timer-label,.moves-label,.score-label{font-weight:bold;color:var(--secondary-color)}.timer-value,.moves-value,.score-value{font-weight:bold;color:var(--primary-color)}.timer-hint{font-size:0.8em;color:var(--secondary-color);margin-left:5px}.game-actions{display:flex;gap:10px}.btn{background:var(--primary-color);color:white;border:none;padding:8px 15px;border-radius:5px;cursor:pointer;font-weight:bold;transition:all 0.2s ease;display:flex;align-items:center;gap:5px}.btn:hover{background:#0069d9;transform:translateY(-2px);box-shadow:0 2px 5px rgba(0,0,0,0.2)}.btn:active{transform:translateY(0);box-shadow:none}.btn-secondary{background:var(--secondary-color)}.btn-secondary:hover{background:#5a6268}.btn-success{background:var(--success-color)}.btn-success:hover{background:#218838}.btn-danger{background:var(--danger-color)}.btn-danger:hover{background:#c82333}.btn-hint{background:var(--hint-color);color:#212121}.btn-hint:hover{background:#e0a800}.btn-icon{font-size:1.2em;line-height:1}.game-board{flex:1;display:grid;grid-template-columns:repeat(7,1fr);grid-template-rows:auto 1fr;gap:10px;margin-top:10px;position:relative}.top-row{grid-column:1 / span 7;display:grid;grid-template-columns:repeat(7,1fr);gap:10px}.stock-waste-container{grid-column:1 / span 2;display:flex;gap:10px}.stock-pile,.waste-pile{width:100%;height:140px;background:rgba(255,255,255,0.2);border-radius:10px;border:2px dashed rgba(0,0,0,0.1);display:flex;justify-content:center;align-items:center;position:relative}.foundation-area{grid-column:3 / span 4;display:grid;grid-template-columns:repeat(4,1fr);gap:10px}.foundation-slot{width:100%;height:140px;background:rgba(255,255,255,0.2);border-radius:10px;border:2px dashed rgba(0,0,0,0.1);display:flex;justify-content:center;align-items:center;position:relative}.tableau-area{grid-column:1 / span 7;display:grid;grid-template-columns:repeat(7,1fr);gap:10px;margin-top:10px}.tableau-column{min-height:300px;background:rgba(255,255,255,0.1);border-radius:10px;padding:10px 5px;position:relative}.card{width:100%;aspect-ratio:2.5/3.5;background:var(--card-bg);border-radius:10px;box-shadow:var(--card-shadow);position:relative;cursor:pointer;user-select:none;transition:transform 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275),box-shadow 0.3s ease;transform-origin:center bottom}.card.face-down{background:linear-gradient(135deg,#6495ed,#4169e1);background-image:url("data:image/svg+xml,%3Csvg width='40' height='40' viewBox='0 0 40 40' xmlns='http://www.w3.org/2000/svg'%3E%3Cg fill='%23ffffff' fill-opacity='0.1' fill-rule='evenodd'%3E%3Cpath d='M0 20L20 0L10 0L0 10M40 20L20 40L30 40L40 30'/%3E%3C/g%3E%3C/svg%3E");}.card.face-down .card-content{display:none}.card.red{color:var(--card-red)}.card.black{color:var(--card-black)}.card-content{display:flex;flex-direction:column;height:100%;padding:5px}.card-top,.card-bottom{display:flex;justify-content:space-between;align-items:center;height:20%}.card-center{flex:1;display:flex;justify-content:center;align-items:center;font-size:2em}.card-value{font-weight:bold;font-size:1em}.card-suit{font-size:1em}.card.selected{box-shadow:0 0 0 3px var(--primary-color),var(--card-shadow);z-index:10}.card.dragging{opacity:0.9;transform:scale(1.08);box-shadow:0 15px 25px rgba(0,0,0,0.25);z-index:1000;transition:transform 0.2s cubic-bezier(0.175, 0.885, 0.32, 1.275),box-shadow 0.2s ease}.card.highlight-foundation{box-shadow:0 0 0 3px var(--foundation-highlight),var(--card-shadow)}.card.highlight-tableau{box-shadow:0 0 0 3px var(--tableau-highlight),var(--card-shadow)}.card.highlight-move{animation:pulse 1.5s infinite}.tableau-column .card{position:absolute;top:10px;left:5px;right:5px;width:auto}.tableau-column .card:not(:first-child){margin-top:30px}.stock-pile .card,.waste-pile .card,.foundation-slot .card{position:absolute;top:0;left:0;width:100%;height:100%}.waste-pile .card:nth-last-child(2){transform:translateX(-5px) translateY(-5px) rotate(-5deg);z-index:1}.waste-pile .card:nth-last-child(3){transform:translateX(-10px) translateY(-10px) rotate(-10deg);z-index:0}.stock-pile.empty,.waste-pile.empty,.foundation-slot.empty{border:2px dashed rgba(0,0,0,0.1);background:rgba(255,255,255,0.1)}.stock-pile.empty:after,.waste-pile.empty:after{content:'';position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);width:40px;height:40px;background-size:contain;background-repeat:no-repeat;opacity:0.3}.stock-pile.empty:after{content:'üÉè';font-size:2em}.waste-pile.empty:after{content:'‚ôªÔ∏è';font-size:2em}.foundation-slot.empty:after{content:'A';position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);font-size:2em;font-weight:bold;opacity:0.2}.tableau-column.highlight{background:rgba(40,167,69,0.1);border:2px dashed rgba(40,167,69,0.3)}.foundation-slot.highlight{background:rgba(0,123,255,0.1);border:2px dashed rgba(0,123,255,0.3)}.hint-highlight{animation:pulse 1.5s infinite}@keyframes pulse{0%{box-shadow:0 0 0 0 rgba(255,193,7,0.7)}70%{box-shadow:0 0 0 10px rgba(255,193,7,0)}100%{box-shadow:0 0 0 0 rgba(255,193,7,0)}}.modal{display:none;position:fixed;top:0;left:0;width:100%;height:100%;background:rgba(0,0,0,0.7);z-index:1000;justify-content:center;align-items:center}.modal.active{display:flex}.modal-content{background:white;border-radius:10px;padding:20px;max-width:500px;width:90%;box-shadow:0 5px 15px rgba(0,0,0,0.3);position:relative;animation:modalFadeIn 0.3s ease}.modal-header{display:flex;justify-content:space-between;align-items:center;margin-bottom:15px;padding-bottom:10px;border-bottom:1px solid #eee}.modal-title{font-size:1.5em;font-weight:bold;color:var(--primary-color)}.modal-close{background:none;border:none;font-size:1.5em;cursor:pointer;color:var(--secondary-color)}.modal-close:hover{color:var(--danger-color)}.modal-body{margin-bottom:20px}.modal-footer{display:flex;justify-content:flex-end;gap:10px;padding-top:10px;border-top:1px solid #eee}.stats-grid{display:grid;grid-template-columns:1fr 1fr;gap:10px;margin-bottom:15px}.stat-item{padding:10px;background:#f8f9fa;border-radius:5px;text-align:center}.stat-value{font-size:1.5em;font-weight:bold;color:var(--primary-color);display:block}.stat-label{font-size:0.9em;color:var(--secondary-color)}.message{position:fixed;top:20px;left:50%;transform:translateX(-50%);background:white;padding:10px 20px;border-radius:5px;box-shadow:0 3px 10px rgba(0,0,0,0.2);z-index:100;opacity:0;transition:opacity 0.3s ease,transform 0.3s ease;pointer-events:none}.message.show{opacity:1;transform:translateX(-50%) translateY(10px)}.message.success{background:var(--success-color);color:white}.message.error{background:var(--danger-color);color:white}.message.info{background:var(--primary-color);color:white}.message.hint{background:var(--hint-color);color:#212121}.hint-message{position:absolute;bottom:20px;left:50%;transform:translateX(-50%);background:var(--hint-color);color:#212121;padding:10px 20px;border-radius:5px;box-shadow:0 3px 10px rgba(0,0,0,0.2);z-index:100;opacity:0;transition:opacity 0.3s ease,transform 0.3s ease;pointer-events:none;max-width:80%;text-align:center}.hint-message.show{opacity:1;transform:translateX(-50%) translateY(-10px)}.confetti{position:fixed;width:10px;height:10px;background-color:#f00;position:absolute;top:0;z-index:1000;animation:confetti-fall 3s linear forwards}.card-counter{position:absolute;bottom:5px;right:5px;background:rgba(0,0,0,0.6);color:white;border-radius:50%;width:20px;height:20px;display:flex;justify-content:center;align-items:center;font-size:12px;font-weight:bold}@keyframes confetti-fall{0%{transform:translateY(0) rotate(0deg);opacity:1}100%{transform:translateY(100vh) rotate(360deg);opacity:0}}@keyframes modalFadeIn{from{opacity:0;transform:translateY(-50px)}to{opacity:1;transform:translateY(0)}}@media (max-width:768px){.game-header{flex-direction:column;gap:10px}.game-info{flex-wrap:wrap;justify-content:center}.game-actions{flex-wrap:wrap;justify-content:center}.game-board{gap:5px}.top-row{gap:5px}.foundation-area{gap:5px}.tableau-area{gap:5px}.card{font-size:0.8em}.tableau-column .card:not(:first-child){margin-top:25px}}@media (max-width:480px){.game-container{padding:5px}.game-header{padding:8px}.btn{padding:6px 10px;font-size:0.9em}.card-center{font-size:1.5em}.tableau-column .card:not(:first-child){margin-top:20px}}@media (max-height:700px){.stock-pile,.waste-pile,.foundation-slot{height:120px}.tableau-column{min-height:250px}}@media (max-height:600px){.stock-pile,.waste-pile,.foundation-slot{height:100px}.tableau-column{min-height:200px}}@media (max-height:500px){.game-header{padding:5px}.stock-pile,.waste-pile,.foundation-slot{height:90px}.tableau-column{min-height:180px}}@media (hover:none){.btn:hover{transform:none;box-shadow:none}}@media (prefers-reduced-motion){.card,.message,.hint-message,.modal-content{transition:none}.floating-card{animation:none;opacity:0}.hint-highlight{animation:none}.card.highlight-move{animation:none}}body.dark-mode{--game-bg:#1a1a2e;--header-bg:rgba(30,30,50,0.9);--text-color:#f0f0f0;--card-bg:#2a2a40;--card-border:#444;--card-shadow:0 2px 5px rgba(0,0,0,0.3);--foundation-highlight:#1a3a5a;--tableau-highlight:#1a3a2a;--card-back:#304878;--card-red:#ff6b6b;--card-black:#f0f0f0}.theme-toggle{background:none;border:none;color:var(--text-color);font-size:1.5em;cursor:pointer;margin-left:10px;transition:transform 0.3s ease}.theme-toggle:hover{transform:rotate(30deg)}.progress-container{width:100%;height:10px;background-color:rgba(0,0,0,0.1);border-radius:5px;margin-top:10px;overflow:hidden}.progress-bar{height:100%;background-color:var(--primary-color);width:0%;transition:width 0.3s ease}.onboarding-overlay{position:fixed;top:0;left:0;width:100%;height:100%;background:rgba(0,0,0,0.5);z-index:9000;pointer-events:none}.onboarding-tooltip{position:absolute;background:white;color:#333;padding:15px;border-radius:8px;box-shadow:0 5px 15px rgba(0,0,0,0.3);z-index:9999;max-width:300px;animation:tooltipFadeIn 0.3s ease}.onboarding-tooltip.dark-mode{background:#2a2a40;color:#f0f0f0}.onboarding-tooltip h3{margin:0 0 10px;color:var(--primary-color)}.onboarding-tooltip p{margin:0 0 15px}.onboarding-buttons{display:flex;justify-content:space-between}.onboarding-next,.onboarding-skip{padding:8px 15px;border:none;border-radius:4px;cursor:pointer;font-weight:bold}.onboarding-next{background:var(--primary-color);color:white}.onboarding-skip{background:var(--secondary-color);color:white}.onboarding-highlight{position:relative;z-index:9001;box-shadow:0 0 0 4px var(--primary-color),0 0 0 8px rgba(0,123,255,0.3);animation:pulse 1.5s infinite}@keyframes tooltipFadeIn{from{opacity:0;transform:translateY(10px)}to{opacity:1;transform:translateY(0)}}
